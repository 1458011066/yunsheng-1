<!DOCTYPE html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <title>发布寄卖</title>
  <link rel="stylesheet" href="css/swiper.min.css">
  <link rel="stylesheet" href="css/style.css">
</head>
<body>

<nav>
  <a href="index.html"><img src="images/nav01.png">首页</a>
  <a href="inlay.html"><img src="images/nav02.png">我要镶嵌</a>
  <a href=""><img src="images/nav03.png">分类</a>
  <a href=""><img src="images/nav04.png">购物车</a>
  <a href="member.html"><img src="images/nav05.png">我的云生</a>
</nav>

<div class="release">
<div class="form"><input type="text" placeholder="标题"></div>
<div class="form"><textarea name="" cols="" rows="" placeholder="描述你的宝贝 ( 本平台只寄卖您在云生·嘉骐购买的产品 )"></textarea></div>




<div class="upload-photos">
<div class="title">上传照片</div>
<div class="btn"><input type="file" name="file" id="file" value="" accept="image/*" multiple onchange="imgChange('upload-photos','z_file');" /><img src="images/upload-btn.jpg"></div>
</div>

<div class="clear" style="width:100%; height:2vw; background:#ececec;"></div>
<div class="form"><input type="text" placeholder="价格/人民币"></div>
<div class="form">
<select name="">
  <option>选择分类</option>
  <option>分类一</option>
  <option>分类二</option>
  <option>分类三</option>
</select>
</div>
</div>

<div class="clear" style="width:100%; height:2vw; background:#ececec;"></div>
<a class="release-btn">确认发布</a>
<div class="clear" style="width:100%; height:17vw;"></div>



<div class="upload-popup">
<div class="content">
<p>确定要删除这张图片吗？</p>
<div class="btn">
<span class="z_cancel">取消</span>
<span class="z_sure">确定</span>
</div>
</div>
</div>

<script type="text/javascript">
	function imgChange(obj1, obj2) {
		//获取点击的文本框
		var file = document.getElementById("file");
		//存放图片的父级元素
		var imgContainer = document.getElementsByClassName(obj1)[0];
		//获取的图片文件
		var fileList = file.files;
		//文本框的父级元素
		var input = document.getElementsByClassName(obj2)[0];
		var imgArr = [];
		//遍历获取到得图片文件
		for (var i = 0; i < fileList.length; i++) {
			var imgUrl = window.URL.createObjectURL(file.files[i]);
			imgArr.push(imgUrl);
			var img = document.createElement("img");
			img.setAttribute("src", imgArr[i]);
			var imgAdd = document.createElement("div");
			imgAdd.setAttribute("class", "z_addImg");
			imgAdd.appendChild(img);
			imgContainer.appendChild(imgAdd);
		};
		imgRemove();
	};

	function imgRemove() {
		var imgList = document.getElementsByClassName("z_addImg");
		var mask = document.getElementsByClassName("upload-popup")[0];
		var cancel = document.getElementsByClassName("z_cancel")[0];
		var sure = document.getElementsByClassName("z_sure")[0];
		for (var j = 0; j < imgList.length; j++) {
			imgList[j].index = j;
			imgList[j].onclick = function() {
				var t = this;
				mask.style.display = "block";
				cancel.onclick = function() {
					mask.style.display = "none";
				};
				sure.onclick = function() {
					mask.style.display = "none";
					t.style.display = "none";
				};

			}
		};
	};
</script>
<body>
</body>
</html>
